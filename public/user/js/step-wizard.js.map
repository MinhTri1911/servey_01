{"version":3,"sources":["step-wizard.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"step-wizard.js","sourcesContent":["$(document).ready(function() {\r\n    var error = $('.data').attr('data-error');\r\n    var notice = $('.data').attr('data-confirm');\r\n    var email_confirm = $('.data').attr('data-email-invalid');\r\n\r\n    function validateEmail(email) {\r\n        var re = /^(([^<>()[\\]\\\\.,;:\\s@\\\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\r\n\r\n        return re.test(email);\r\n    }\r\n\r\n    function validateTailmail(email) {\r\n        var text = /^@[A-Z0-9-]+(\\.+([A-Z]+)){1,4}$/i;\r\n\r\n        return text.test(email);\r\n    }\r\n\r\n    function formatDate(date) {\r\n        var hours = date.getHours();\r\n        var minutes = date.getMinutes();\r\n        var ampm = hours >= 12 ? 'PM' : 'AM';\r\n        hours = hours % 12;\r\n        hours = hours ? hours : 12;\r\n        hours   = hours < 10 ? '0' + hours : hours ;\r\n        minutes = minutes < 10 ? '0' + minutes : minutes;\r\n        var strTime = hours + \" : \" + minutes + ' ' + ampm;\r\n\r\n        return date.getFullYear() + \"/\" + ((date.getMonth() + 1) < 10 ? \"0\" +\r\n            (date.getMonth() + 1) : (date.getMonth() + 1) ) + \"/\" +\r\n            (date.getDate() < 10 ? \"0\" + date.getDate() : date.getDate()) + \" \" + strTime;\r\n    }\r\n\r\n    $(\"#survey_container\").wizard({\r\n        stepsWrapper: \"#middle-wizard\",\r\n        beforeForward: function( event, state ) {\r\n            if ( state.stepIndex === 1 ) {\r\n                var today = new Date();\r\n                var currentDateTime = formatDate(today);\r\n                var dealineTime = $('.frm-deadline').val();\r\n                var timeChoosed   = formatDate (new Date(Date.parse(dealineTime)));\r\n\r\n                if ( dealineTime.length != 0 && currentDateTime > timeChoosed){\r\n                    $('.validate-time').css('display', 'block');\r\n\r\n                    return false;\r\n                }\r\n\r\n            } else if ( state.stepIndex === 2 ) {\r\n                $('html, body').animate({scrollTop: 0}, 500);\r\n\r\n                if($('.data').attr('data-question') == 0) {\r\n                    $('.create-question-validate')\r\n                        .css('display', 'block')\r\n                        .removeClass('fadeOutUp')\r\n                        .addClass('animated fadeInDown');\r\n\r\n                    return false;\r\n                }\r\n            } else if ( state.stepIndex === 3 ) {\r\n                    $('html, body').animate({scrollTop: 0}, 1000);\r\n                    var flag = temp = true;\r\n                    var c1 = $('#requirement-answer').is(':checked');\r\n                    var c2 = $('.option-choose-answer').is(':checked');\r\n                    var c3 = $('#limit-answer').is(':checked');\r\n                    var c4 = $('.quantity-limit').val();\r\n                    var c5 = c4 % 1;\r\n                    var c6 = $('#require-tail-email').is(':checked');\r\n                    var c7 = $('.frm-tailmail').val();\r\n                    var tailMails = $('.frm-tailmail').tagsinput('items');\r\n\r\n                    tailMails.forEach(function (tailemail) {\r\n\r\n                        if (!validateTailmail(tailemail)) {\r\n                            temp = false;\r\n                        }\r\n                    });\r\n\r\n                    if ((c1 && !c2) ){\r\n                        $('.validate-requirement-answer')\r\n                            .css('display', 'block')\r\n                            .addClass('animated fadeInDown')\r\n                            .delay(3000)\r\n                            .slideUp(1000);\r\n                        flag = false;\r\n                    }\r\n\r\n                    if ((c3 && !c4.length) || (c3 && c4.length && (c5 || parseInt(c4) < 1))) {\r\n                        $('.validate-limit-answer')\r\n                            .css('display', 'block')\r\n                            .addClass('animated fadeInDown')\r\n                            .delay(3000)\r\n                            .slideUp(1000);\r\n                        flag = false;\r\n                    }\r\n\r\n                    if ((c6 && !c7.length) || (c6 && c7.length && !temp)) {\r\n                        $('.validate-tailmail')\r\n                            .css('display', 'block')\r\n                            .addClass('animated fadeInDown')\r\n                            .delay(3000)\r\n                            .slideUp(1000);\r\n                        flag = false;\r\n                    }\r\n\r\n                    return flag;\r\n\r\n                } else if ( state.stepIndex === 4 ) {\r\n                    var emails = $('input:text[name=emails]').tagsinput('items');\r\n                    var flag = true;\r\n                    emails.forEach(function (email) {\r\n\r\n                        if (!validateEmail(email)) {\r\n                            flag = false;\r\n                        }\r\n                    });\r\n\r\n                    if (emails.length != 0 && !flag) {\r\n                        $('.validate-email').css('display', 'block')\r\n\r\n                        return false;\r\n                    }\r\n\r\n                    $('.validate-email').css('display', 'none');\r\n            }\r\n        }\r\n    });\r\n\r\n    $(document).on('click', '.btn-save-setting', function() {\r\n        var flag = temp = true;\r\n        var c1 = $('#requirement-answer').is(':checked');\r\n        var c2 = $('.option-choose-answer').is(':checked');\r\n        var c3 = $('#limit-answer').is(':checked');\r\n        var c4 = $('.quantity-limit').val();\r\n        var c5 = c4 % 1;\r\n        var c6 = $('#require-tail-email').is(':checked');\r\n        var c7 = $('.frm-tailmail').val();\r\n        var tailMails = $('.frm-tailmail').tagsinput('items');\r\n\r\n        tailMails.forEach(function (tailemail) {\r\n\r\n            if (!validateTailmail(tailemail)) {\r\n                temp = false;\r\n            }\r\n        });\r\n\r\n        if ((c1 && !c2) ){\r\n            $('.validate-requirement-answer')\r\n                .css('display', 'block')\r\n                .addClass('animated fadeInDown')\r\n                .delay(3000)\r\n                .slideUp(1000);\r\n            flag = false;\r\n        }\r\n\r\n        if ((c3 && !c4.length) || (c3 && c4.length && (c5 || parseInt(c4) < 1))) {\r\n            $('.validate-limit-answer')\r\n                .css('display', 'block')\r\n                .addClass('animated fadeInDown')\r\n                .delay(3000)\r\n                .slideUp(1000);\r\n            flag = false;\r\n        }\r\n\r\n        if ((c6 && !c7.length) || (c6 && c7.length && !temp)) {\r\n            $('.validate-tailmail')\r\n                .css('display', 'block')\r\n                .addClass('animated fadeInDown')\r\n                .delay(3000)\r\n                .slideUp(1000);\r\n            flag = false;\r\n        }\r\n\r\n        return flag;\r\n    });\r\n\r\n    $(document).on('click', '.btn-close-popup', function() {\r\n        $('.popupBackground').fadeOut(500);\r\n        setTimeout(function() {\r\n            $('.popupBackground').css('display', 'none');\r\n        }, 500);\r\n    });\r\n\r\n    $(document).on('click', '.image-type-option', function() {\r\n        $('.create-question-validate')\r\n            .removeClass('fadeInDown')\r\n            .addClass('fadeOutUp');\r\n        $('.create-question-validate').slideUp();\r\n        setTimeout(function() {\r\n            $('.create-question-validate').slideUp().css('display', 'none');\r\n        }, 1000);\r\n    });\r\n\r\n    $(document).on('click', '.btn-send-mail', function() {\r\n        var emails = $('.frm-mail-user').tagsinput('items');\r\n        var input_email = $('.input-email').val();\r\n        var flag = true;\r\n\r\n        emails.forEach(function (email) {\r\n\r\n            if (!validateEmail(email)) {\r\n                flag = false;\r\n            }\r\n        });\r\n\r\n        if ((emails.length != 0 && !flag)\r\n            || !emails.length\r\n            || !input_email.length\r\n            || !validateEmail(input_email)\r\n            ) {\r\n            $('.validate-send-email').css('display', 'block');\r\n\r\n            setTimeout(function() {\r\n                $('.validate-send-email').slideUp(1000);\r\n            }, 4000);\r\n\r\n            return false;\r\n        }\r\n\r\n        return true;\r\n    });\r\n\r\n    $(document).on('click', '.submit-survey', function() {\r\n        if(!$('.quantity-limit').val().length) {\r\n            $('.setting-limit').remove();\r\n        }\r\n    });\r\n});\r\n"]}