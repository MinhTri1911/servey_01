{"version":3,"sources":["component.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"component.js","sourcesContent":["$(document).ready(function() {\r\n    var error = $('.data').attr('data-error');\r\n    var notice = $('.data').attr('data-confirm');\r\n    var link = $('.data').attr('data-link');\r\n    var email_confirm = $('.data').attr('data-email-invalid');\r\n\r\n    (function(d, s, id) {\r\n        var js, fjs = d.getElementsByTagName(s)[0];\r\n        if (d.getElementById(id)) return;\r\n        js = d.createElement(s); js.id = id;\r\n        js.src = \"//connect.facebook.net/vi_VN/sdk.js#xfbml=1&version=v2.8&appId=1853033838292892\";\r\n        fjs.parentNode.insertBefore(js, fjs);\r\n    }(document, 'script', 'facebook-jssdk'));\r\n\r\n    $(document).on('mousedown', '.glyphicon.glyphicon-sort', function(){\r\n        $('.container-add-question').addClass('sortable');\r\n        $('.sortable').sortable();\r\n        $('.sortable').disableSelection();\r\n    });\r\n\r\n    $('.alert-message').delay(5000).slideUp(300);\r\n\r\n    $('.save-survey').on('click', function () {\r\n        var surveyId = $(this).attr('survey-id');\r\n        var url = $(this).attr('data-url');\r\n        var feature = $(this).attr('feature');\r\n        var userId = $(this).attr('user-id');\r\n        var answer = $('#wrapped').serializeArray().reduce(function(obj, item) {\r\n            obj[item.name] = item.value;\r\n\r\n            return obj;\r\n        });\r\n\r\n        $.post(\r\n            url,\r\n            {\r\n                'surveyId': surveyId,\r\n                'answer': answer,\r\n                'feature': feature,\r\n                'userId': userId,\r\n            },\r\n            function (response){\r\n                if (response.success) {\r\n                    $(\".save-message-success\").css(\"display\", \"block\");\r\n                    $('.save-message-success').html(response.message);\r\n                } else {\r\n                    $(\".save-message-fail\").css(\"display\", \"block\");\r\n                    $('.save-message-fail').html(response.message);\r\n                }\r\n        });\r\n    });\r\n\r\n    $('.show-survey').on('click', function () {\r\n        var url = $(this).attr('data-url');\r\n        var surveyId = $(this).attr('survey-id');\r\n\r\n        $.get(\r\n            url,\r\n            {\r\n                'surveyId': surveyId,\r\n            },\r\n            function (response) {\r\n                if (response.success) {\r\n                    $(\".save-message-success\").css(\"display\", \"block\");\r\n                    $('.save-message-success').html(response.message);\r\n                    $('#container-survey').html(response.view);\r\n                } else {\r\n                    $(\".save-message-fail\").css(\"display\", \"block\");\r\n                    $('.save-message-fail').html(response.message);\r\n                }\r\n        });\r\n    });\r\n\r\n    $(document).on('click', '.qtyplus', function() {\r\n        var getNumber = parseInt($('.quantity-limit').val());\r\n\r\n        if (!isNaN(getNumber)) {\r\n            $('.quantity-limit').val(getNumber + 1);\r\n        } else {\r\n            $('.quantity-limit').val(1);\r\n        }\r\n    });\r\n\r\n    $(document).on('click', '.export-excel', function() {\r\n        $('.exportExcel').click();\r\n    });\r\n\r\n    $(document).on('click', '.export-PDF', function() {\r\n        $('.exportPDF').click();\r\n    });\r\n\r\n    $(document).on('click', '.qtyminus', function() {\r\n        var getNumber = parseInt($('.quantity-limit').val());\r\n\r\n        if (!isNaN(getNumber) && getNumber > 1) {\r\n            $('.quantity-limit').val(getNumber - 1);\r\n        } else {\r\n            $('.quantity-limit').val(1);\r\n        }\r\n    });\r\n\r\n    $(document).on('click', '#requirement-answer', function() {\r\n        $('.setting-requirement').toggle(1200);\r\n        $('.input-radio').prop('checked', false);\r\n        $('#require-tail-email').prop('checked', false);\r\n        $('#require-oneTime').prop('checked', false);\r\n        $('.div-option-require').slideUp();\r\n        $('.tail-email').slideUp();\r\n        $('.frm-tailmail').tagsinput('removeAll');\r\n    });\r\n\r\n    $(document).on('click', '#limit-answer', function() {\r\n        $('.setting-limit').toggle(1000);\r\n        $('.quantity-limit').val('');\r\n    });\r\n\r\n    $(document).on('click', '.tab-choose', function() {\r\n        var value = $(this).val();\r\n        $('.content-' + value).css('display', 'block');\r\n\r\n        for (var i = 1; i <= 4; i++) {\r\n            if (i != value) {\r\n                $('.content-' + i).css('display', 'none');\r\n            }\r\n        }\r\n    });\r\n\r\n    $('#countries').on('change', function () {\r\n        var url = $(this).attr('data-url');\r\n        var lang = $(this).val();\r\n\r\n        $.get(\r\n            url,\r\n            {\r\n                'locale': lang,\r\n            },\r\n            function (response) {\r\n                if (response.success) {\r\n                    window.location.href = response.urlBack;\r\n                } else {\r\n                    alert(error);\r\n                }\r\n        });\r\n    });\r\n\r\n    $('.submit-answer').prop('disabled', false);\r\n\r\n    $('input[type=submit]').prop('disabled', false);\r\n\r\n    $(document).on('click', '.active-answer', function() {\r\n        $('.container-list-answer').fadeIn();\r\n        $('.container-list-result').fadeOut();\r\n    });\r\n\r\n    $(document).on('click', '.active-result', function() {\r\n        $('.container-list-result').fadeIn();\r\n        $('.container-list-answer').fadeOut();\r\n    });\r\n\r\n    $('.image-type-option').hover(\r\n        function() {\r\n            $(this).siblings('span').css('display', 'block');\r\n        }, function() {\r\n            $(this).siblings('span').css('display', 'none');\r\n        }\r\n    );\r\n\r\n    $(\"#countries\").msDropDown();\r\n\r\n    setTimeout(function() {\r\n        $('.complete-image').addClass('jello');\r\n    }, 1000);\r\n\r\n    $(document).on('click', '.choose-image', function() {\r\n        $('.button-file-hidden').click();\r\n    });\r\n\r\n    $(document).on('click', '.tag-send-email', function() {\r\n        var url = $(this).attr('data-url');\r\n        $('.frm-submit-mail').attr('action', url);\r\n        $('.popupBackground').fadeIn();\r\n    });\r\n\r\n    $(document).on('click', '.btn-remove-survey', function() {\r\n        var result = confirm(notice);\r\n\r\n        if (result) {\r\n            var url = $(this).attr('data-url');\r\n            var idSurvey = $(this).attr('id-survey');\r\n            var redirect = $(this).attr('redirect');\r\n            $.post(\r\n                url,\r\n                {\r\n                    'idSurvey': idSurvey,\r\n                },\r\n                function(response) {\r\n\r\n                    if (response.success) {\r\n                        window.location.href = redirect;\r\n                    } else {\r\n                        alert(error);\r\n                }\r\n            });\r\n        }\r\n    });\r\n\r\n    $(document).on('click', '#require-tail-email', function() {\r\n        if ($(this).prop('checked')) {\r\n            $('.tail-email').slideDown();\r\n        } else {\r\n            $('.tail-email').slideUp();\r\n            $('.frm-tailmail').tagsinput('removeAll');\r\n        }\r\n    });\r\n\r\n    // $(document).on('click', '.btn-change-survey', function() {\r\n    //     var _temp = $('.update-content-survey').find('input[type=\"text\"]');\r\n    //     return (!_temp['length'] || !!_temp['valid']())\r\n    // });\r\n\r\n    // $('.btn-change-survey').submit(function() {\r\n    //     $(document).on('click', '.btn-change-survey', function() {\r\n    // // get all the inputs into an array.\r\n    //     var $inputs = $('.update-content-survey').find('input');\r\n\r\n    //     // not sure if you wanted this, but I thought I'd add it.\r\n    //     // get an associative array of just the values.\r\n    //     var values = {};\r\n    //     $inputs.each(function() {\r\n    //         values[this.name] = $(this).val();\r\n    //     });\r\n    //     alert($inputs);alert('ad');\r\n    //     return false;\r\n    // });\r\n\r\n    // $('#wrapped-update').submit(function() {\r\n    // // get all the inputs into an array.\r\n    //     var $inputs = $('#wrapped-update :input');\r\n\r\n    //     // not sure if you wanted this, but I thought I'd add it.\r\n    //     // get an associative array of just the values.\r\n    //     var values = {};\r\n    //     $inputs.each(function() {\r\n    //         values[this.name] = $(this).val();\r\n    //     });\r\n    //     alert(values);alert('adsa');\r\n    //     return false;\r\n    // });\r\n\r\n     $('#wrapped-update').submit(function() {\r\n       // var values = {};\r\n       //  $.each($('#myForm').serializeArray(), function(i, field) {\r\n       //      values[field.name] cz= field.value;\r\n       //  });\r\n       var values = $(this).serializeArray();\r\n        if(values.length == 5) {\r\n            alert('survey phai co it nhat 1 cau hoi');\r\n           return false;\r\n        }\r\n\r\n        var _temp = $('.update-content-survey').find('input[type=\"text\"]');\r\n\r\n        return (!_temp['length'] || !!_temp['valid']())\r\n    });\r\n\r\n\r\n\r\n    $(document).on('change', '.option-choose-answer', function() {\r\n        if ($(this).val() == 1 || $(this).val() == 3) {\r\n            $('.div-option-require').slideDown();\r\n        } else {\r\n            $('.div-option-require').slideUp();\r\n            $('.tail-email').slideUp();\r\n            $('.frm-tailmail').val('');\r\n            $('#require-tail-email').prop('checked', false);\r\n            $('#require-oneTime').prop('checked', false);\r\n            $('.frm-tailmail').tagsinput('removeAll');\r\n        }\r\n    });\r\n\r\n    $('.datetimepicker').datetimepicker();\r\n\r\n    $('.frm-date-2').datetimepicker({\r\n        format: 'MM/DD/YYYY'\r\n    });\r\n\r\n    $('.frm-time').datetimepicker({\r\n        format: 'LT'\r\n    });\r\n\r\n    $(document).on('click', '.view-result', function() {\r\n        window.location.href = $(this).attr('data-url');\r\n    });\r\n\r\n    $(document).on('click', '.menu-wizard', function() {\r\n        $('.menu-wizard').removeClass('active-menu');\r\n        $(this).addClass('active-menu');\r\n    });\r\n\r\n    $('.alert-message').delay(3000).slideUp(300);\r\n\r\n    var number = parseInt($('.ct-data').attr('data-number'));\r\n    var charts = $('.ct-data').attr('data-content');\r\n\r\n    if (charts) {\r\n        var obj = jQuery.parseJSON( charts );\r\n\r\n        for (i = 0; i < obj.length; i++) {\r\n            var dataInput = new Array();\r\n\r\n            for (j = 0; j < obj[i]['chart'].length; j++) {\r\n                dataInput.push([obj[i]['chart'][j]['answer'], obj[i]['chart'][j]['percent']]);\r\n            }\r\n            var count = i + 1;\r\n            if(dataInput.length != 1) {\r\n                Highcharts.chart('container' + i, {\r\n                    chart: {\r\n                        type: 'pie',\r\n                        options3d: {\r\n                            enabled: true,\r\n                            alpha: 45,\r\n                            beta: 0\r\n                        },\r\n                        style: {\r\n                            fontFamily: 'Arial'\r\n                        },\r\n                        spacingBottom: 15,\r\n                        spacingTop: 70,\r\n                        spacingLeft: 70,\r\n                        spacingRight: 70,\r\n                    },\r\n                    title: {\r\n                        text: count + '.' + obj[i]['question']['content'],\r\n                        floating: true,\r\n                        align: 'left',\r\n\r\n                    },\r\n                    tooltip: {\r\n                        pointFormat: '{series.name}: <b>{point.percentage:.1f}%</b>'\r\n                    },\r\n                    plotOptions: {\r\n                        pie: {\r\n                            allowPointSelect: true,\r\n                            cursor: 'pointer',\r\n                            depth: 35,\r\n                            dataLabels: {\r\n                                enabled: true,\r\n                                format: '{point.name}'\r\n                            }\r\n                        }\r\n                    },\r\n                    series: [{\r\n                        type: 'pie',\r\n                        name: 'Browser share',\r\n                        data: dataInput\r\n                    }]\r\n                });\r\n            }\r\n        }\r\n    }\r\n});\r\n"]}