{"version":3,"sources":["form-request.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"form-request.js","sourcesContent":["$(document).ready(function () {\r\n    var url = $('.url-token').data('route');\r\n    var userId;\r\n    var userEmail;\r\n\r\n    $(document).on('click', '#bt-request', function () {\r\n        userId = $(this).attr('userId');\r\n        userEmail = $(this).attr('userEmail');\r\n        $('.bt-send-request').attr('data-user-email', userEmail);\r\n        $('#emailUser').html(userEmail);\r\n        $( \"#form-request\" ).toggle( 'slow' );\r\n    });\r\n\r\n    $(document).on('click', '#bt-cancel', function () {\r\n        var url = $(this).attr('request-url');\r\n        var id = $(this).attr('requestId');\r\n        var tableType = $(this).attr('table-type');\r\n\r\n        $.post(\r\n            url,\r\n            {\r\n                'requestId': id,\r\n            },\r\n            function(response) {\r\n\r\n                if (response.success) {\r\n                    $('#table-' + tableType).load(location.href + \" #table-\" + tableType + \">*\", \"\");\r\n                } else {\r\n                    alert('Fail to cancel request');\r\n                }\r\n        });\r\n    });\r\n\r\n    $(document).on('click', '#bt-active', function () {\r\n        var url = $(this).attr('data-url');\r\n        var tableType = $(this).attr('table-type');\r\n\r\n        $.post(\r\n            url,\r\n            {\r\n            },\r\n            function(response) {\r\n\r\n                if (response.success) {\r\n                    $('#table-' + tableType).load(location.href + \" #table-\" + tableType + \">*\", \"\");\r\n                } else {\r\n                    alert('Fail to active user');\r\n                }\r\n        });\r\n    });\r\n\r\n    $(document).on('click', '#bt-block-supperadmin', function () {\r\n        var url = $(this).attr('data-url');\r\n        var tableType = $(this).attr('table-type');\r\n        alert(url);\r\n        $.post(\r\n            url,\r\n            {\r\n            },\r\n            function(response) {\r\n\r\n                if (response.success) {\r\n                    $('#table-' + tableType).load(location.href + \" #table-\" + tableType + \">*\", \"\");\r\n                } else {\r\n                    alert('Fail to block user');\r\n                }\r\n        });\r\n    });\r\n\r\n    $(document).on('click', '#bt-request-delete', function () {\r\n        var url = $(this).attr('data-url');\r\n        var id = $(this).attr('request-id');\r\n        var href = $(this).attr('url');\r\n\r\n        $.post(\r\n            url,\r\n            {\r\n                'requestId': id,\r\n            },\r\n            function(response) {\r\n\r\n                if (response.success) {\r\n                    window.location.href = href;\r\n                } else {\r\n                    alert('Fail to delete request');\r\n                }\r\n        });\r\n    });\r\n\r\n    $(document).on('click', '#bt-request-accept', function () {\r\n        var url = $(this).attr('data-url');\r\n        var href = $(this).attr('url');\r\n\r\n        $.post(\r\n            url,\r\n            {\r\n            },\r\n            function(response) {\r\n\r\n                if (response.success) {\r\n                    window.location.href = href;\r\n                } else {\r\n                    alert('Fail to accept request');\r\n                }\r\n        });\r\n    });\r\n\r\n    $(document).on('click', '.bt-send-cancel', function () {\r\n        $('#requestContent').val('');\r\n        $(\"#form-request\" ).fadeOut();\r\n        $('input:radio[name=data-option]').removeAttr(\"checked\");\r\n    });\r\n\r\n    $('body').on('click', '.bt-send-request', function () {\r\n        var content = $('#requestContent').val();\r\n        var url = $(this).attr('data-url');\r\n        var type = $('input[name=data-option]:checked').val();\r\n        var href = $(this).attr('data-href');\r\n\r\n        if(!type || !content){\r\n            alert(\"Let's choose option\");\r\n        } else {\r\n            $.post(\r\n                url,\r\n                {\r\n                    'emailUser': userEmail,\r\n                    'content': content,\r\n                    'type': type\r\n                },\r\n                function(response) {\r\n                    \r\n                    if (response.success) {\r\n                        $( \"#form-request\" ).toggle( 'slow' );\r\n                        window.location.href = href;\r\n                    } else {\r\n                      alert('Fail to send request');\r\n                    }\r\n            }); \r\n        }\r\n    }); \r\n});\r\n"]}